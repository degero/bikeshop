(this.webpackJsonpbikeshop=this.webpackJsonpbikeshop||[]).push([[0],{29:function(e,t){e.exports={newBike:{id:null,manufacturer:"",model:"",price:""}}},34:function(e,t,n){e.exports=n(55)},39:function(e,t,n){},40:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(14),c=n.n(l),o=(n(39),n(6)),i=n(8),u=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"d-flex justify-content-center"},r.a.createElement("p",null,r.a.createElement("span",{class:"site-logo"}))),r.a.createElement("h1",null,"Welcome to the Bikeshop!"),r.a.createElement("p",null,"Introduction Now and then, a Pilsner is a big fan of another burglar ale. For example, another molten bar tab indicates that a Yuengling slurly steals women from the Jamaica Red Ale. When an unstable Heineken is vaporized, the monkey bite derives perverse satisfaction from the Harpoon inside the beer. A familiar broken bottle hesitantly ignores the wet mating ritual. Another hesitantly so-called girl scout laughs out loud, and an Octoberfest goes to sleep; however, the Heineken greedily competes with a wasted bar stool. Some Kashmir IPA"),r.a.createElement("p",null,"If the bottle ignores a tipsy micro brew, then the moldy booze goes to sleep. Furthermore, a Bridgeport ESB takes a coffee break, and a smelly pin ball machine buys an expensive drink for some air hocky table of a Jamaica Red Ale. The stupid Keystone light buys an expensive drink for an often highly paid bill. Most people believe that a Harpoon slurly gives lectures on morality to the Hommel Bier for the colt 45, but they need to remember how knowingly the Hoptoberfest living with a monkey bite hibernates. Sometimes an infected Honey Brown ceases to exist, but a Harpoon inside a razor blade beer always secretly admires a feline milwakees best! The Pilsner for a hops"))},s=function(){return r.a.createElement("h1",null,"Page not found!")},m=(n(40),function(e){var t=e.bikes,n=e.deleteItem;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Manufacturer"),r.a.createElement("th",null,"Model"),r.a.createElement("th",null,"Price ($USD)"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,t?t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.manufacturer),r.a.createElement("td",null,e.model),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/bike/"+e.slug,className:"btn btn-link"},"Edit")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){return n(e)}},"Delete")))})):r.a.createElement(r.a.Fragment,null)))}),b=n(5),E=n(11),d=n(22),f=n.n(d),h=n(28);function p(e){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(400!==t.status){e.next=7;break}return e.next=5,t.text();case 5:throw n=e.sent,new Error(n);case 7:throw new Error("Network response was not ok.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){throw console.error("API call failed. "+e),e}function g(e){return function(t,n){return function(e){return fetch("api/bikes/"+e.id,{method:"DELETE"}).then(p).catch(v)}(e).then(t({type:"DELETE_BIKE_OPTIMISTIC",bike:e})).catch((function(e){throw t({type:"API_CALL_ERROR"}),e}))}}function y(){return function(e){return e({type:"BEGIN_API_CALL"}),fetch("api/bikes/").then(p).catch(v).then((function(t){e(function(e){return{type:"LOAD_BIKES_SUCCESS",bikes:e}}(t))})).catch((function(t){throw e({type:"API_CALL_ERROR"}),t}))}}n(47);var S=function(){return r.a.createElement("div",{className:"loader"},"Loading...")};var w=Object(E.b)((function(e){return{bikes:e.bikes,loading:e.apiCallsInProgress>0}}),(function(e){return{actions:{loadBikes:Object(b.b)(y,e),deleteBike:Object(b.b)(g,e)}}}))((function(e){var t=e.bikes,n=e.actions;return Object(a.useEffect)((function(){t||n.loadBikes().catch((function(e){alert("Error loading bikes: "+e)}))}),[e.bikes]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Bikes"),r.a.createElement(o.b,{to:"/bike"},"Add bike"),r.a.createElement("br",null),e.loading?r.a.createElement(S,null):r.a.createElement(m,{bikes:t,deleteItem:n.deleteBike}))})),C=n(16),O=n(9),_=n(23),I=n(33),B=function(e){var t=e.value,n=e.error,a=e.onChange,l=e.name,c=e.label,o="form-group";return n&&n.length>0&&(o+=" has-error"),r.a.createElement("div",{class:o},r.a.createElement("label",{for:l},c),r.a.createElement("input",{class:"form-control",type:"text",name:l,onChange:a,value:t}),n&&r.a.createElement("div",{class:"alert alert-danger"},n))},x=function(e){var t=e.bike,n=e.onSave,a=e.onChange,l=e.errors;return r.a.createElement("div",{class:"row content"},r.a.createElement("div",{class:"col-12 col-md-4"},r.a.createElement("h2",null,t.id?"Edit":"Create"," Bike"),l.onSave&&r.a.createElement("div",{class:"alert alert-danger",role:"alert"},l.onSave),r.a.createElement("form",{onSubmit:n,autoComplete:"off"},r.a.createElement(B,{name:"manufacturer",label:"Manufacturer:",onChange:a,value:t.manufacturer,error:l.manufacturer}),r.a.createElement(B,{name:"model",label:"Model:",onChange:a,value:t.model,error:l.model}),r.a.createElement(B,{name:"price",label:"Price ($USD):",onChange:a,value:t.price,error:l.price}),r.a.createElement("input",{class:"btn btn-primary",type:"submit",value:"Save"}))))},j=n(29);var A={loadBikes:y,saveBike:function(e){return function(t,n){return t({type:"BEGIN_API_CALL"}),function(e){return fetch("api/bikes/"+(e.id||""),{method:e.id?"PUT":"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(p).catch(v)}(e).then((function(n){e.id?t(function(e){return{type:"UPDATE_BIKE_SUCCESS",bike:e}}(n)):t(function(e){return{type:"CREATE_BIKE_SUCCESS",bike:e}}(n))})).catch((function(e){throw t({type:"API_CALL_ERROR"}),e}))}}},P=Object(E.b)((function(e,t){var n=t.match.params.slug;return{bike:n&&e.bikes&&e.bikes.length>0?function(e,t){return e.find((function(e){return e.slug===t}))}(e.bikes,n):j.newBike,bikes:e.bikes}}),A)((function(e){var t=e.bikes,n=e.loadBikes,l=e.saveBike,c=e.history,o=Object(I.a)(e,["bikes","loadBikes","saveBike","history"]),i=Object(a.useState)(Object(O.a)({},o.bike)),u=Object(_.a)(i,2),s=u[0],m=u[1],b=Object(a.useState)({}),E=Object(_.a)(b,2),d=E[0],f=E[1];return Object(a.useEffect)((function(){t?m(Object(O.a)({},o.bike)):n().catch((function(e){return alert("Error loading bikes:"+e)}))}),[o.bike]),r.a.createElement(x,{onSave:function(e){e.preventDefault(),function(){var e=s.manufacturer,t=s.model,n=s.price,a={};return e||(a.manufacturer="Manufacturer is required."),t||(a.model="Model is required"),n||(a.price="Price is required"),f(a),0===Object.keys(a).length}()&&l(s).then((function(){c.push("/bikes")})).catch((function(e){f({onSave:e.message})}))},onChange:function(e){var t=e.target,n=t.name,a=t.value;m((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(C.a)({},n,a))}))},bike:s,errors:d})}));n(48);function L(e){return r.a.createElement("li",{class:"nav-item"},r.a.createElement(o.b,{class:"nav-link",to:e.route},e.label))}var R=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"navbar-nav-scroll"},r.a.createElement("nav",null,r.a.createElement("ul",{class:"navbar-nav bd-navbar-nav flex-row"},e.routes?e.routes.map((function(e){return r.a.createElement(L,{key:e.id,route:e.route,label:e.label})})):r.a.createElement(r.a.Fragment,null)))))},T={Routes:[{id:2,route:"/bikes",label:"Bikes"}]},N=(n(49),function(e){return r.a.createElement("header",{class:"navbar navbar-expand flex-column flex-md-row bd-navbar px-lg-4"},r.a.createElement(o.b,{to:"/",className:"nav-link home-link"},r.a.createElement("span",{class:"header-logo"})),r.a.createElement(R,{routes:T.Routes}))}),D=r.a.version,U=function(){return r.a.createElement("footer",null,r.a.createElement("div",{class:"container-fluid fixed-bottom footer-container"},r.a.createElement("div",{class:"row flex-xl-nowrap"},r.a.createElement("div",{class:"col-4"})),r.a.createElement("div",{class:"row flex-xl-nowrap"},r.a.createElement("div",{class:"col-4"},r.a.createElement("p",null,"Copyright \xa9",(new Date).getFullYear()," Chad Paynter")),r.a.createElement("div",{class:"col-4 d-flex justify-content-center"},r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("span",{class:"react-logo"},"react.js"))," ",r.a.createElement("i",null,"version ",D," + Redux ","4.0.5"))),r.a.createElement("div",{class:"col-4 d-flex justify-content-end"},r.a.createElement("p",null,r.a.createElement("a",{class:"link",href:"https://linkedin.com/in/chadpaynter/"},"LinkedIn"),"\xa0|\xa0",r.a.createElement("a",{class:"link",href:"https://github.com/degero/bikeshop"},"Github"))))))};var M=function(){return r.a.createElement(o.a,null,r.a.createElement(N,null),r.a.createElement("main",null,r.a.createElement("div",{className:"container-fluid main-body"},r.a.createElement("div",{className:"row flex-xl-nowrap px-lg-5"},r.a.createElement("main",{className:"col-12"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:u}),r.a.createElement(i.a,{path:"/bikes",component:w}),r.a.createElement(i.a,{path:"/bike/:slug",component:P}),r.a.createElement(i.a,{path:"/bike",component:P}),r.a.createElement(i.a,{component:s})))))),r.a.createElement(U,null))},K=n(32),F=null,H=0;function J(e){return"_SUCCESS"===e.substring(e.length-8)}var G=Object(b.c)({bikes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BIKE_SUCCESS":return[].concat(Object(K.a)(e),[Object(O.a)({},t.bike)]);case"UPDATE_BIKE_SUCCESS":return e.map((function(e){return e.id===t.bike.id?t.bike:e}));case"DELETE_BIKE_OPTIMISTIC":return e.filter((function(e){return e.id!==t.bike.id}));case"LOAD_BIKES_SUCCESS":return t.bikes;default:return e}},apiCallsInProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;return"BEGIN_API_CALL"===t.type?e+1:"API_CALL_ERROR"===t.type||J(t.type)?e-1:e}}),q=n(30),z=n.n(q),$=n(31);n(54);var W=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.d;return Object(b.e)(G,e,t(Object(b.a)($.a,z()())))}();c.a.render(r.a.createElement(E.a,{store:W},r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.766f7706.chunk.js.map