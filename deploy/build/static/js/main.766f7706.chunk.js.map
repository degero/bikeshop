{"version":3,"sources":["models/bike.js","components/home/Home.js","components/common/NotFound.js","components/bikes/BikeList.js","api/apiUtils.js","redux/actions/bikeActions.js","api/bikeApi.js","redux/actions/actionTypes.js","redux/actions/apiStatusActions.js","components/common/Spinner.js","components/bikes/BikesPage.js","components/common/TextInput.js","components/bikes/BikeForm.js","components/bikes/BikeCrudForm.js","components/navbar/Navbar.js","util/constants.js","components/common/Header.js","components/common/Footer.js","components/App.js","redux/reducers/initialState.js","redux/reducers/apiCallsReducer.js","redux/reducers/rootReducer.js","redux/reducers/bikeReducer.js","index.js","redux/store/configureStore.js"],"names":["module","exports","newBike","id","manufacturer","model","price","Home","class","NotFound","BikeList","bikes","deleteItem","className","map","bike","key","to","slug","onClick","handleResponse","response","a","ok","json","status","text","error","Error","handleError","console","deleteBike","dispatch","getState","fetch","process","method","then","catch","bikeApi","type","err","loadBikes","loadBikeSuccess","Spinner","connect","state","loading","apiCallsInProgress","actions","bindActionCreators","bikeActions","props","useEffect","alert","TextInput","value","onChange","name","label","formWrapperStyle","length","for","BikeForm","onSave","errors","role","onSubmit","autoComplete","mapDispatchToProps","saveBike","headers","body","JSON","stringify","savedBike","updatedBikeSuccess","createdBikeSuccess","ownProps","match","params","find","getBikeBySlug","history","useState","setBike","setErrors","event","preventDefault","Object","keys","formIsValid","push","message","target","prevBike","NavItem","route","Navbar","routes","item","Constants","Routes","Header","REACT_VERSION","React","version","Footer","Date","getFullYear","href","App","exact","path","component","BikesPage","BikeCrudForm","actionTypeEndsInSuccess","substring","rootReducer","combineReducers","initialState","action","filter","store","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","reduxImmutableStateInvariant","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.766f7706.chunk.js","sourcesContent":["const newBike = {\r\n  id: null,\r\n  manufacturer: \"\",\r\n  model: \"\",\r\n  price: \"\",\r\n};\r\n\r\nmodule.exports = {\r\n  newBike,\r\n};\r\n","import React from \"react\";\r\n\r\nconst Home = () => (\r\n  <>\r\n    <div class=\"d-flex justify-content-center\">\r\n      <p>\r\n        <span class=\"site-logo\"></span>\r\n      </p>\r\n    </div>\r\n    <h1>Welcome to the Bikeshop!</h1>\r\n    <p>\r\n      Introduction Now and then, a Pilsner is a big fan of another burglar ale.\r\n      For example, another molten bar tab indicates that a Yuengling slurly\r\n      steals women from the Jamaica Red Ale. When an unstable Heineken is\r\n      vaporized, the monkey bite derives perverse satisfaction from the Harpoon\r\n      inside the beer. A familiar broken bottle hesitantly ignores the wet\r\n      mating ritual. Another hesitantly so-called girl scout laughs out loud,\r\n      and an Octoberfest goes to sleep; however, the Heineken greedily competes\r\n      with a wasted bar stool. Some Kashmir IPA\r\n    </p>\r\n    <p>\r\n      If the bottle ignores a tipsy micro brew, then the moldy booze goes to\r\n      sleep. Furthermore, a Bridgeport ESB takes a coffee break, and a smelly\r\n      pin ball machine buys an expensive drink for some air hocky table of a\r\n      Jamaica Red Ale. The stupid Keystone light buys an expensive drink for an\r\n      often highly paid bill. Most people believe that a Harpoon slurly gives\r\n      lectures on morality to the Hommel Bier for the colt 45, but they need to\r\n      remember how knowingly the Hoptoberfest living with a monkey bite\r\n      hibernates. Sometimes an infected Honey Brown ceases to exist, but a\r\n      Harpoon inside a razor blade beer always secretly admires a feline\r\n      milwakees best! The Pilsner for a hops\r\n    </p>\r\n  </>\r\n);\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\nconst NotFound = () => <h1>Page not found!</h1>;\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst BikeList = ({ bikes, deleteItem }) => (\r\n  <table className=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <th>Manufacturer</th>\r\n        <th>Model</th>\r\n        <th>Price ($USD)</th>\r\n        <th></th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {bikes ? (\r\n        bikes.map((bike) => {\r\n          return (\r\n            <tr key={bike.id}>\r\n              <td>{bike.manufacturer}</td>\r\n              <td>{bike.model}</td>\r\n              <td>${bike.price}</td>\r\n              <td>\r\n                <Link to={\"/bike/\" + bike.slug} className=\"btn btn-link\">\r\n                  Edit\r\n                </Link>\r\n              </td>\r\n              <td>\r\n                <button\r\n                  className=\"btn btn-outline-danger\"\r\n                  onClick={() => deleteItem(bike)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          );\r\n        })\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nBikeList.propTypes = {\r\n  bikes: PropTypes.array,\r\n  deleteItem: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BikeList;\r\n","export async function handleResponse(response) {\r\n  if (response.ok) return response.json();\r\n  if (response.status === 400) {\r\n    // So, a server-side validation error occurred.\r\n    // Server side validation returns a string error message, so parse as text instead of json.\r\n    const error = await response.text();\r\n    throw new Error(error);\r\n  }\r\n  throw new Error(\"Network response was not ok.\");\r\n}\r\n\r\n// In a real app, would likely call an error logging service.\r\nexport function handleError(error) {\r\n  // eslint-disable-next-line no-console\r\n  console.error(\"API call failed. \" + error);\r\n  throw error;\r\n}\r\n","import * as types from \"./actionTypes\";\r\nimport * as bikeApi from \"../../api/bikeApi\";\r\nimport { beginApiCall, apiCallError } from \"./apiStatusActions\";\r\n\r\nexport function loadBikeSuccess(bikes) {\r\n  return { type: types.LOAD_BIKES_SUCCESS, bikes };\r\n}\r\n\r\nexport function createdBikeSuccess(bike) {\r\n  // perhaps better to reload set from server to keep in sync if multiple editors?\r\n  return { type: types.CREATE_BIKE_SUCCESS, bike };\r\n}\r\n\r\nexport function updatedBikeSuccess(bike) {\r\n  // perhaps better to reload set from server to keep in sync if multiple editors?\r\n  return { type: types.UPDATE_BIKE_SUCCESS, bike };\r\n}\r\nexport function deleteBike(bike) {\r\n  return function (dispatch, getState) {\r\n    // this is deleted optimistic so no api call tracking is done\r\n    return bikeApi\r\n      .deleteBike(bike)\r\n      .then(dispatch({ type: types.DELETE_BIKE_OPTIMISTIC, bike }))\r\n      .catch((err) => {\r\n        dispatch(apiCallError(err));\r\n        throw err;\r\n      });\r\n  };\r\n}\r\nexport function saveBike(bike) {\r\n  return function (dispatch, getState) {\r\n    dispatch(beginApiCall());\r\n    return bikeApi\r\n      .saveBike(bike)\r\n      .then((savedBike) => {\r\n        bike.id\r\n          ? dispatch(updatedBikeSuccess(savedBike))\r\n          : dispatch(createdBikeSuccess(savedBike));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(apiCallError(err));\r\n        throw err;\r\n      });\r\n  };\r\n}\r\n\r\nexport function loadBikes() {\r\n  return function (dispatch) {\r\n    dispatch(beginApiCall());\r\n    return bikeApi\r\n      .getBikes()\r\n      .then((bikes) => {\r\n        dispatch(loadBikeSuccess(bikes));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(apiCallError(error));\r\n        throw error;\r\n      });\r\n  };\r\n}\r\n","import { handleResponse, handleError } from \"./apiUtils\";\r\nconst baseUrl = process.env.REACT_APP_API_URL + \"/bikes/\";\r\n\r\nexport function getBikes() {\r\n  return fetch(baseUrl).then(handleResponse).catch(handleError);\r\n}\r\n\r\nexport function saveBike(bike) {\r\n  return fetch(baseUrl + (bike.id || \"\"), {\r\n    method: bike.id ? \"PUT\" : \"POST\",\r\n    headers: { \"content-type\": \"application/json\" },\r\n    body: JSON.stringify(bike),\r\n  })\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function deleteBike(bike) {\r\n  return fetch(baseUrl + bike.id, {\r\n    method: \"DELETE\",\r\n  })\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n","export const CREATE_BIKE = \"CREATE_BIKE\";\r\nexport const LOAD_BIKES_SUCCESS = \"LOAD_BIKES_SUCCESS\";\r\nexport const CREATE_BIKE_SUCCESS = \"CREATE_BIKE_SUCCESS\";\r\nexport const UPDATE_BIKE_SUCCESS = \"UPDATE_BIKE_SUCCESS\";\r\n\r\n// We dont wait for API response which makes the UI very performant but\r\n// the trade off is concurrency or error handling if the delete fails\r\nexport const DELETE_BIKE_OPTIMISTIC = \"DELETE_BIKE_OPTIMISTIC\";\r\n\r\nexport const BEGIN_API_CALL = \"BEGIN_API_CALL\";\r\nexport const API_CALL_ERROR = \"API_CALL_ERROR\";\r\n","import * as types from \"./actionTypes\";\r\n\r\nexport function beginApiCall() {\r\n  return { type: types.BEGIN_API_CALL };\r\n}\r\n\r\nexport function apiCallError() {\r\n  return { type: types.API_CALL_ERROR };\r\n}\r\n","import React from \"react\";\r\nimport \"./Spinner.css\";\r\n\r\nconst Spinner = () => {\r\n  return <div className=\"loader\">Loading...</div>;\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BikeList from \"./BikeList\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport * as bikeActions from \"../../redux/actions/bikeActions\";\r\nimport PropTypes from \"prop-types\";\r\nimport Spinner from \"../common/Spinner\";\r\n\r\nexport function BikesPage(props) {\r\n  const { bikes, actions } = props;\r\n\r\n  useEffect(() => {\r\n    if (!bikes) {\r\n      actions.loadBikes().catch((error) => {\r\n        alert(\"Error loading bikes: \" + error);\r\n      });\r\n    }\r\n  }, [props.bikes]);\r\n\r\n  return (\r\n    <>\r\n      <h2>Bikes</h2>\r\n      <Link to=\"/bike\">Add bike</Link>\r\n      <br />\r\n      {!props.loading ? (\r\n        <BikeList bikes={bikes} deleteItem={actions.deleteBike}></BikeList>\r\n      ) : (\r\n        <Spinner />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    bikes: state.bikes,\r\n    loading: state.apiCallsInProgress > 0,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: {\r\n      loadBikes: bindActionCreators(bikeActions.loadBikes, dispatch),\r\n      deleteBike: bindActionCreators(bikeActions.deleteBike, dispatch),\r\n    },\r\n  };\r\n}\r\n\r\nBikesPage.propTypes = {\r\n  actions: PropTypes.object.isRequired,\r\n  bikes: PropTypes.array,\r\n  loading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BikesPage);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst TextInput = ({ value, error, onChange, name, label }) => {\r\n  let formWrapperStyle = \"form-group\";\r\n\r\n  if (error && error.length > 0) {\r\n    formWrapperStyle += \" has-error\";\r\n  }\r\n\r\n  return (\r\n    <div class={formWrapperStyle}>\r\n      <label for={name}>{label}</label>\r\n      <input\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        name={name}\r\n        onChange={onChange}\r\n        value={value}\r\n      />\r\n      {error && <div class=\"alert alert-danger\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTextInput.propTypes = {\r\n  value: PropTypes.object.isRequired,\r\n  error: PropTypes.func.isRequired,\r\n  onChange: PropTypes.object.isRequired,\r\n  name: PropTypes.object.isRequired,\r\n  label: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default TextInput;\r\n","import React from \"react\";\r\nimport TextInput from \"../common/TextInput\";\r\n\r\nconst BikeForm = ({ bike, onSave, onChange, errors }) => {\r\n  return (\r\n    <div class=\"row content\">\r\n      <div class=\"col-12 col-md-4\">\r\n        <h2>{bike.id ? \"Edit\" : \"Create\"} Bike</h2>\r\n        {errors.onSave && (\r\n          <div class=\"alert alert-danger\" role=\"alert\">\r\n            {errors.onSave}\r\n          </div>\r\n        )}\r\n        <form onSubmit={onSave} autoComplete=\"off\">\r\n          <TextInput\r\n            name=\"manufacturer\"\r\n            label=\"Manufacturer:\"\r\n            onChange={onChange}\r\n            value={bike.manufacturer}\r\n            error={errors.manufacturer}\r\n          ></TextInput>\r\n          <TextInput\r\n            name=\"model\"\r\n            label=\"Model:\"\r\n            onChange={onChange}\r\n            value={bike.model}\r\n            error={errors.model}\r\n          ></TextInput>\r\n          <TextInput\r\n            name=\"price\"\r\n            label=\"Price ($USD):\"\r\n            onChange={onChange}\r\n            value={bike.price}\r\n            error={errors.price}\r\n          ></TextInput>\r\n          <input class=\"btn btn-primary\" type=\"submit\" value=\"Save\" />\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BikeForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport BikeForm from \"./BikeForm\";\r\nimport { loadBikes, saveBike } from \"../../redux/actions/bikeActions\";\r\nimport { newBike } from \"../../models/bike\";\r\n\r\nexport function BikeCrudForm({\r\n  bikes,\r\n  loadBikes,\r\n  saveBike,\r\n  history,\r\n  ...props\r\n}) {\r\n  const [bike, setBike] = useState({ ...props.bike });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    // load bikes if user navigated directly to this page\r\n    if (!bikes) {\r\n      loadBikes().catch((err) => alert(\"Error loading bikes:\" + err));\r\n    } else {\r\n      setBike({ ...props.bike });\r\n    }\r\n  }, [props.bike]);\r\n\r\n  function formIsValid() {\r\n    const { manufacturer, model, price } = bike;\r\n    const errors = {};\r\n\r\n    if (!manufacturer) errors.manufacturer = \"Manufacturer is required.\";\r\n    if (!model) errors.model = \"Model is required\";\r\n    if (!price) errors.price = \"Price is required\";\r\n\r\n    setErrors(errors);\r\n    // Form is valid if the errors object still has no properties\r\n    return Object.keys(errors).length === 0;\r\n  }\r\n\r\n  function handleInputChange(event) {\r\n    const { name, value } = event.target;\r\n    // take prev obj and replace with new obj and updated field 'name'\r\n    setBike((prevBike) => ({\r\n      ...prevBike,\r\n      [name]: value,\r\n    }));\r\n  }\r\n\r\n  function handleSave(event) {\r\n    event.preventDefault();\r\n    if (!formIsValid()) return;\r\n    saveBike(bike)\r\n      .then(() => {\r\n        // TODO show success\r\n        history.push(\"/bikes\");\r\n      })\r\n      .catch((error) => {\r\n        setErrors({ onSave: error.message });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <BikeForm\r\n      onSave={handleSave}\r\n      onChange={handleInputChange}\r\n      bike={bike}\r\n      errors={errors}\r\n    ></BikeForm>\r\n  );\r\n}\r\n\r\nBikeCrudForm.propTypes = {\r\n  bike: PropTypes.object.isRequired,\r\n  errors: PropTypes.object,\r\n  bikes: PropTypes.array,\r\n  loadBikes: PropTypes.func.isRequired,\r\n  saveBike: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction getBikeBySlug(bikes, slug) {\r\n  return bikes.find((bike) => bike.slug === slug);\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  const slug = ownProps.match.params.slug;\r\n  const bike =\r\n    slug && state.bikes && state.bikes.length > 0\r\n      ? getBikeBySlug(state.bikes, slug)\r\n      : newBike;\r\n  return {\r\n    bike,\r\n    bikes: state.bikes,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  loadBikes,\r\n  saveBike,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BikeCrudForm);\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Navbar.css\";\r\n\r\n// We can use a seperate component for each list item or\r\nfunction NavItem(props) {\r\n  return (\r\n    <li class=\"nav-item\">\r\n      <Link class=\"nav-link\" to={props.route}>\r\n        {props.label}\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n\r\nconst Navbar = (props) => (\r\n  <>\r\n    <div class=\"navbar-nav-scroll\">\r\n      <nav>\r\n        <ul class=\"navbar-nav bd-navbar-nav flex-row\">\r\n          {props.routes ? (\r\n            props.routes.map((item) => (\r\n              <NavItem\r\n                key={item.id}\r\n                route={item.route}\r\n                label={item.label}\r\n              ></NavItem>\r\n            ))\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  </>\r\n);\r\n\r\nexport default Navbar;\r\n","// Set of constant values to use with application\r\nconst Constants = {\r\n  Routes: [{ id: 2, route: \"/bikes\", label: \"Bikes\" }],\r\n};\r\n\r\nexport default Constants;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from \"../navbar/Navbar\";\r\nimport Constants from \"../../util/constants\";\r\nimport \"./Header.css\";\r\n\r\nconst Header = (props) => (\r\n  <header class=\"navbar navbar-expand flex-column flex-md-row bd-navbar px-lg-4\">\r\n    <Link to=\"/\" className=\"nav-link home-link\">\r\n      <span class=\"header-logo\"></span>\r\n    </Link>\r\n    <Navbar routes={Constants.Routes}></Navbar>\r\n    {/* this uses a constant set of routes TODO a better way to pull out set of routes */}\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nconst REACT_VERSION = React.version;\r\nconst REDUX_VERSION = \"4.0.5\";\r\n\r\nconst Footer = () => (\r\n  <footer>\r\n    <div class=\"container-fluid fixed-bottom footer-container\">\r\n      <div class=\"row flex-xl-nowrap\">\r\n        <div class=\"col-4\"></div>\r\n      </div>\r\n      <div class=\"row flex-xl-nowrap\">\r\n        <div class=\"col-4\">\r\n          <p>Copyright ©{new Date().getFullYear()} Chad Paynter</p>\r\n        </div>\r\n        <div class=\"col-4 d-flex justify-content-center\">\r\n          <p>\r\n            <b>\r\n              <span class=\"react-logo\">react.js</span>\r\n            </b>{\" \"}\r\n            <i>\r\n              version {REACT_VERSION} + Redux {REDUX_VERSION}\r\n            </i>\r\n          </p>\r\n        </div>\r\n        <div class=\"col-4 d-flex justify-content-end\">\r\n          <p>\r\n            <a class=\"link\" href=\"https://linkedin.com/in/chadpaynter/\">\r\n              LinkedIn\r\n            </a>\r\n            &nbsp;|&nbsp;\r\n            <a class=\"link\" href=\"https://github.com/degero/bikeshop\">\r\n              Github\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </footer>\r\n);\r\n\r\nexport default Footer;\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./home/Home\";\nimport NotFound from \"./common/NotFound\";\nimport \"./App.css\";\nimport BikesPage from \"./bikes/BikesPage\";\nimport BikeCrudForm from \"./bikes/BikeCrudForm\";\nimport Header from \"./common/Header\";\nimport Footer from \"./common/Footer\";\n\nfunction App() {\n  return (\n    <Router>\n      <Header></Header>\n      <main>\n      <div className=\"container-fluid main-body\">\n        <div className=\"row flex-xl-nowrap px-lg-5\">\n          <main className=\"col-12\">\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route path=\"/bikes\" component={BikesPage} />\n              <Route path=\"/bike/:slug\" component={BikeCrudForm} />\n              <Route path=\"/bike\" component={BikeCrudForm} />\n              <Route component={NotFound} />\n            </Switch>\n          </main>\n        </div>\n      </div>\n      </main>\n      <Footer></Footer>\n    </Router>\n  );\n}\n\nexport default App;\n","export default {\r\n  bikes: null,\r\n  apiCallsInProgress: 0,\r\n};\r\n","import * as types from \"../actions/actionTypes\";\r\nimport initialState from \"./initialState\";\r\n\r\nfunction actionTypeEndsInSuccess(type) {\r\n  return type.substring(type.length - 8) === \"_SUCCESS\";\r\n}\r\n\r\n// Used for tracking state of api requests to use with spinner etc\r\nexport default function apiCallStatusReducer(\r\n  state = initialState.apiCallsInProgress,\r\n  action\r\n) {\r\n  if (action.type === types.BEGIN_API_CALL) {\r\n    return state + 1;\r\n  } else if (\r\n    action.type === types.API_CALL_ERROR ||\r\n    actionTypeEndsInSuccess(action.type)\r\n  ) {\r\n    return state - 1;\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport bikes from \"./bikeReducer\";\r\nimport apiCallsInProgress from \"./apiCallsReducer\";\r\n\r\n// Note the shorthand mapping below we are using importing bikeReducer as bikes, eg longhand bikes: bikeReducer\r\nconst rootReducer = combineReducers({\r\n  bikes,\r\n  apiCallsInProgress,\r\n});\r\n\r\nexport default rootReducer;\r\n","import * as types from \"../actions/actionTypes\";\r\nimport initialState from \"./initialState\";\r\n\r\nexport default function bikeReducer(state = initialState.bikes, action) {\r\n  switch (action.type) {\r\n    case types.CREATE_BIKE_SUCCESS: // Add to the state\r\n      return [...state, { ...action.bike }];\r\n    case types.UPDATE_BIKE_SUCCESS:\r\n      return state.map((bike) =>\r\n        bike.id === action.bike.id ? action.bike : bike\r\n      ); // map the updated bike to the state\r\n    case types.DELETE_BIKE_OPTIMISTIC:\r\n      return state.filter((bike) => bike.id !== action.bike.id); // filter out deleted bike\r\n    case types.LOAD_BIKES_SUCCESS:\r\n      return action.bikes;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport configureStore from \"./redux/store/configureStore\";\nimport { Provider as ReduxProvider } from \"react-redux\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <ReduxProvider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </ReduxProvider>,\n  document.getElementById(\"root\")\n);\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport rootReducer from \"../reducers/rootReducer\";\r\nimport reduxImmutableStateInvariant from \"redux-immutable-state-invariant\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nexport default function configureStore(initialState) {\r\n  const composeEnhancers =\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\r\n\r\n  return createStore(\r\n    rootReducer,\r\n    initialState,\r\n    composeEnhancers(applyMiddleware(thunk, reduxImmutableStateInvariant()))\r\n  );\r\n}\r\n"],"sourceRoot":""}